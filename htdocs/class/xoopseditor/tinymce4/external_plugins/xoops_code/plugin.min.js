// updated for TinyMCE v4 / 2014-05-17 / by goffy

tinymce.PluginManager.requireLangPack('xoops_code');

tinymce.PluginManager.add('xoops_code',function(e,url) {function t(){

e.windowManager.open({
	title : '_XOOPS_EDITOR_TINYMCE_CODE_SUB',
	body:{
		type: 'textbox',
		name: 'xoops_code',
		multiline:!0,
		minWidth:500,
		minHeight:300,
		},

		onSubmit:function(t){
		e.insertContent("<div class='xoopsCode'>"+t.data.xoops_code+"</div><br />")
		}}
	)}

e.addButton("xoops_code",{
	title: '_XOOPS_EDITOR_TINYMCE_CODE_TITLE',
	tooltip: '_XOOPS_EDITOR_TINYMCE_CODE_TOOLTIP',
	image:  url + '/img/code.png',
	onclick:t
	})
});
